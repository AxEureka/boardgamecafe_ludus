<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ボドゲ喫茶 Ludus</title>

  <link rel="stylesheet" href="style.css">

  <!-- フォント -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
</head>

<body class="top-page">

<div id="stage-wrapper">
  <div id="stage">

    <!-- ===== ヘッダー ===== -->
    <header>
      <h1>ボドゲ喫茶 Ludus へようこそ</h1>
    </header>

    <!-- ===== メイン ===== -->
    <main>
      <section class="today-section">
        <h2>本日のおすすめ</h2>
        <div id="today-games" class="game-cards"></div>
      </section>
    </main>

    <!-- ===== ホットスポット ===== -->
    <div id="hs-bookshelf" class="hotspot bookshelf">
      <div class="label-paper top">検索する</div>
    </div>

    <div id="hs-painting" class="hotspot painting">
      <div class="label-paper bottom">診断する</div>
    </div>

    <div id="hs-cup" class="hotspot cup">
      <div class="label-paper bottom">注文する</div>
    </div>

    <div id="hs-chair" class="hotspot chair">
      <div class="label-paper bottom">このお店って？</div>
    </div>

    <div id="hs-baum" class="hotspot baum"></div>
    <div id="hs-master" class="hotspot master"></div>

    <!-- 吹き出し -->
    <div id="master-bubble" class="speech-bubble"></div>

  </div>
</div>

<script>
/* ===== 今日のおすすめ ===== */
async function showTodayGames() {
  const res = await fetch('data/games.json');
  const games = await res.json();
  const shuffled = games.sort(() => Math.random() - 0.5).slice(0, 3);
  const container = document.getElementById('today-games');
  container.innerHTML = '';

  shuffled.forEach(game => {
    const img = Array.isArray(game.images) ? game.images[0] : game.image;
    const card = document.createElement('div');
    card.className = 'game-card';
    card.innerHTML = `
      <a href="detail.html?title=${encodeURIComponent(game.title)}">
        <img src="${img}" alt="${game.title}">
        <p>${game.desc}</p>
      </a>
    `;
    container.appendChild(card);
  });
}

document.addEventListener('DOMContentLoaded', showTodayGames);
</script>

</body>
</html>
